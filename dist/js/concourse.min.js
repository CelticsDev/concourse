function playerAge(t){var a=new Date,e=new Date(t);return a.getFullYear()-e.getFullYear()}function generateTimeline(t){var a=rosterObj[t].stats.seasonAvg.length,e="",s="";for(i=0;i<a;i++){var r=rosterObj[t].stats.seasonAvg[i].ta,o=rosterObj[t].stats.seasonAvg[i].spl.length,n="",l="",p=rosterObj[t].stats.seasonAvg[i].val;if(0==rosterObj[t].stats.hasStats&&(p=""),0!==i&&r===rosterObj[t].stats.seasonAvg[i-1].ta||(l=r),o)for(var d=0;d<o;d++){var c=rosterObj[t].stats.seasonAvg[i].gp,u=rosterObj[t].stats.seasonAvg[i].spl[d].gp;Math.round(u/c*100);n+='<div data-season-year="'+p+'" data-team="'+(r=rosterObj[t].stats.seasonAvg[i].spl[d].ta)+'" style="" class="segment-inner '+r+'-bg"><p>'+(l=0===i||r!==rosterObj[t].stats.seasonAvg[i-1].ta&&r!==rosterObj[t].stats.seasonAvg[i+1].ta?r:"")+"</p></div>"}else n='<div data-season-year="'+p+'" data-team="'+r+'" class="segment-inner '+r+'-bg"><p>'+l+"</p></div>";e+='<div class="segment">'+n+"</div>",s+='<div class="segment"><p>'+p+"</p></div>"}jQuery(".timeline-wrap").html('<div class="timeline appended">'+e+'</div><div class="season-year appended">'+s+"</div>")}function playerSpotlight(t,a){setTimeout(function(){jQuery(".white-line.horizontal").addClass("transition-1")},500),setTimeout(function(){jQuery(".social-top .white-line.vertical:nth-child(odd)").addClass("transition-1"),jQuery(".social-bottom .white-line.vertical:nth-child(even)").addClass("transition-1")},800),setTimeout(function(){jQuery(".social-top .white-line.vertical:nth-child(even)").addClass("transition-1"),jQuery(".social-bottom .white-line.vertical:nth-child(odd)").addClass("transition-1")},1e3),setTimeout(function(){jQuery(".social-top, .social-bottom").addClass("transition-1"),jQuery(".player-box-wrap").addClass("transition-1")},1200),setTimeout(function(){jQuery(".player-box-wrap").addClass("transition-2"),jQuery(".player-box").addClass("transition-1");var a=0,e=0;for(var s in t){console.log(s);var r="https://ak-static.cms.nba.com/wp-content/uploads/headshots/nba/latest/1040x760/"+t[s].pid+".png";jQuery(".player-box:nth-child("+(e+1)+")").append('<img class="appended headshot" src="'+r+'"/>'),jQuery(".player-box:nth-child("+(e+1)+")").attr("data-pid",t[s].pid),jQuery(".player-box img").on("error",function(){jQuery(this).attr("src","https://i.cdn.turner.com/nba/nba/.element/media/2.0/teamsites/celtics/media/generic-player-light_600x438.png")}),jQuery(".player-box:nth-child("+(e+1)+") img").delay(a).fadeTo(300,1),a+=30,e++}},1300);var e="";setTimeout(function(){jQuery(".player-box").addClass("transition-2"),jQuery(".player-box:nth-child("+(a+1)+")").addClass("selected"),e=jQuery(".player-box:nth-child("+(a+1)+")").attr("data-pid"),jQuery(".player-box").not(".replacement.selected").delay(500).addClass("transition-4")},2e3),setTimeout(function(){jQuery(".block-wrap.social").addClass("transition-3"),jQuery(".player-box.replacement.selected").addClass("transition-3")},3e3),setTimeout(function(){generateTimeline(e),jQuery(".player-box.replacement.selected").clone().appendTo(".block-wrap.player-spotlight .top-wrap"),jQuery(".player-spotlight .selected").addClass(".appended"),jQuery(".block-wrap.player-spotlight").addClass("transition-1"),jQuery(".block-wrap.social").addClass("transition-1");var a=t[e].stats;jQuery(".player-spotlight .top-wrap .player-top").append('<img class="silo appended" src="http://io.cnn.net/nba/nba/.element/media/2.0/teamsites/celtics/media/silo-466x591-'+t[e].pid+'.png" /><div class="top appended"><div class="player-name-wrap"><p class="player-name"><span>'+t[e].fn.toUpperCase()+"</span> <br> "+t[e].ln.toUpperCase()+'</p></div><p class="player-number">'+t[e].num+"</br><span>"+t[e].pos+'</span></p></div><div class="middle appended"><ul class="info clearfix"><li><p>AGE<span class="sm-hide">:&nbsp;</span> </br><span class="info-value">'+playerAge(t[e].dob)+'</span></p></li><li><p>HT<span class="sm-hide">:&nbsp;</span> </br><span class="info-value">'+t[e].ht+'</span></p></li><li><p>WT<span class="sm-hide">:&nbsp;</span> </br><span class="info-value">'+t[e].wt+'</span></p></li></ul></div><div class="bottom full clearfix sm-hide appended"><table class="averages"><tr class="averages-labels"><td><p>GP</p></td><td><p>PPG</p></td><td><p>RPG</p></td><td><p>APG</p></td></tr><tr class="averages-season"><td class="gp"><p></p></td><td class="pts"><p></p></td><td class="reb"><p></p></td><td class="ast"><p></p></td></tr></table></div>'),jQuery(".player-spotlight .averages-season").html("<td><p>"+a.seasonAvg[0].gp+"</p></td><td><p>"+a.seasonAvg[0].pts+"</p></td><td><p>"+a.seasonAvg[0].reb+"</p></td><td><p>"+a.seasonAvg[0].ast+"</p></td>"),jQuery(".player-spotlight .player-name").fadeTo(200,1);for(var s=t[e].bio.personal,r=0;r<3;r++){var o=Math.floor(Math.random()*s.length);jQuery(".player-spotlight .bottom-wrap").append('<div class="dyk-box appended"><p>'+s[o]+"</p></div>")}jQuery(".player-spotlight .bottom-wrap").addClass("transition-1"),setTimeout(function(){jQuery(".player-spotlight .bottom-wrap .dyk-box:nth-of-type(2)").addClass("transition-2"),jQuery(".player-spotlight .bottom-wrap .dyk-box:nth-of-type(3)").addClass("transition-1")},1e3),setTimeout(function(){jQuery(".player-spotlight .bottom-wrap .dyk-box:nth-of-type(3)").addClass("transition-2"),jQuery(".player-spotlight .bottom-wrap .dyk-box:nth-of-type(4)").addClass("transition-1")},1500)},3600),setTimeout(function(){jQuery(".player-spotlight .player-top .player-name, .player-spotlight .player-name-wrap, .player-spotlight .headshot, .player-spotlight .info, .player-spotlight .silo, .player-spotlight .averages, .player-spotlight .player-number").addClass("transition-1"),setTimeout(function(){jQuery(".block-wrap.player-spotlight .player-box").remove()},4e3),a<16?a++:a=0},4100),setTimeout(function(){jQuery(".player-spotlight .bottom-wrap, .player-spotlight .top-wrap").addClass("transition-2")},6e3),setTimeout(function(){jQuery(".appended").remove(),jQuery(".transition, .transition-1, .transition-2, .transition-3, .transition-4").removeClass("transition transition-1 transition-2 transition-3 transition-4")},7e3)}function loadRosterData(t){var a="";jQuery.ajax({url:"http://localhost:8888/data/mobile-stats-feed/celtics_roster.json",async:!1,success:function(t){a=t},error:function(){}});var e="";jQuery.ajax({url:"http://localhost:8888/data/mobile-stats-feed/away_roster.json",async:!1,success:function(t){e=t},error:function(){}});var s="";jQuery.ajax({url:"http://localhost:8888/data/bio-data.json",async:!1,success:function(t){s=t},error:function(){}});for(o=0;o<a.t.pl.length;o++){n=a.t.pl[o].pid;rosterObj.celtics[n]=a.t.pl[o];for(var r in s[n])rosterObj.celtics[n].bio=s[n];jQuery.ajax({url:"http://localhost:8888/data/mobile-stats-feed/playercards/playercard-"+n+".json",async:!1,success:function(t){rosterObj.celtics[n].stats=t.pl.ca},error:function(){}})}for(var o=0;o<e.t.pl.length;o++){var n=e.t.pl[o].pid;rosterObj.away[n]=e.t.pl[o],jQuery.ajax({url:"http://localhost:8888/data/mobile-stats-feed/playercards/playercard-202330.json",async:!1,success:function(t){rosterObj.away[n].stats=t.pl.ca},error:function(){}})}console.log(rosterObj)}function statsNotAvailable(t){rosterObj[t].stats.careerAvg={},rosterObj[t].stats.seasonAvg=[{}],rosterObj[t].stats.hasStats=!1;for(var a=["gp","gs","min","fgp","tpp","ftp","oreb","dreb","reb","ast","stl","blk","tov","pf","pts","nostats"],e=["tid","val","gp","gs","min","fgp","tpp","ftp","oreb","dreb","reb","ast","stl","blk","tov","pf","pts","spl","ta","tn","tc"],s=0;s<e.length;s++)rosterObj[t].stats.seasonAvg[0][e[s]]="N/A",1===s&&(rosterObj[t].stats.seasonAvg[0][e[s]]=playerCardYear.toString().substr(2,2)+"-"+(playerCardYear+1).toString().substr(2,2)),17===s&&(rosterObj[t].stats.seasonAvg[0][e[s]]=[]),18===s&&(rosterObj[t].stats.seasonAvg[0][e[s]]="BOS");for(s=0;s<a.length;s++)rosterObj[t].stats.careerAvg[a[s]]="N/A",15===s&&(rosterObj[t].stats.careerAvg[a[s]]=!0)}function loadGameDetail(t){}function loadAwayTeamData(){}function leaders(t){jQuery(".leaders, .leaders .block-inner").addClass("transition-1"),setTimeout(function(){jQuery(".leaders .leader-section").addClass("transition-1")},800)}function social(t){}function initMobileApp(){var t=1;setInterval(function(){jQuery(".app .bottom-wrap img").removeClass("active"),jQuery(".app .feature-list p").removeClass("active"),jQuery(".app .feature-list p:nth-of-type("+t+")").addClass("active"),jQuery(".app .bottom-wrap img:nth-of-type("+t+")").addClass("active"),5==t?t=1:t++},2e3)}function mobileApp(){jQuery(".app").show()}function standings(){}function aroundTheLeague(){}jQuery(document).ready(function(){rosterObj={celtics:{},away:{}};var t="";new Date;jQuery.getJSON("http://localhost:8888/data/mobile-stats-feed/todays_scores.json",function(a){for(var e=0;e<a.gs.g.length;e++)"ORL"==a.gs.g[e].h.ta&&loadRosterData(a.gs.g[e].v.ta);jQuery.getJSON("http://localhost:8888/data/mobile-stats-feed/gamedetail.json",function(a){t=a})})});